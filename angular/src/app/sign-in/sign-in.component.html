<div class="row">
  <div class="text-left">
    <div>
      <div class="col-lg-12">
        <form [formGroup]="teamForm">
          <h1 class="text-center">Sistema para el analisis de optimización de recursos.</h1>

          <mat-tab-group>
            <mat-tab label="PASO 1. EMPRESA.">
              <div class="panel-body">
                <!--<strong class="primary-font text-success">Este sistema le proveera la opción de realizar el
                  un analisis de optimización y como resultado obtendra una sugerencia que contriburia para en sus recursos de
                  su compañia. Lo invitamos que realice los siguientes pasos.</strong>-->
              </div>

              <strong class=" col-lg-12 col-md-12 col-sm-12 text-danger primary-font">
                Información de la empresa que esta interesada en realizar el analisis para sus clientes.
              </strong>
              <div class="col-lg-12 col-md-12">
                <h4>Nombre de la Empresa</h4>
                <mat-form-field>
                  <input matInput formControlName="company" placeholder="Nombre de la Empresa" required>
                </mat-form-field>
              </div>
              <div formArrayName="offices">
                <div class="col-lg-12 col-md-12">
                  <h4>Sucursales</h4>
                </div>
                <div *ngFor="let office of officeFormArray.controls; let idx = index">
                  <div formGroupName="{{idx}}" class="col-lg-3 col-md-3">
                    <h5 class="text-success">Sucursal {{idx + 1001}}</h5>
                    <mat-form-field class="col-lg-6 col-md-6">
                      <mat-select placeholder="Sucursal ({{idx + 1001}})" formControlName="departament" required>
                        <mat-option *ngFor="let department of departments" [value]="department.id">
                          {{ department.viewValue }}
                        </mat-option>
                      </mat-select>
                    </mat-form-field>
                    <mat-form-field class="col-lg-6 col-md-6">
                      <input matInput placeholder="Nombre Sucursal ({{idx + 1001}})" formControlName="name" required>
                    </mat-form-field>
                  </div>
                </div>
                <button type="button" class="btn btn-info" (click)="addOffice()">
                  Adicionar una sucursal
                </button>
              </div>
            </mat-tab>


            <mat-tab label="PASO 2. CLIENTE.">
              <strong class=" col-lg-12 col-md-12 text-danger primary-font">
                Información del cliente al que se le va a realizar el analisis de optimización.
              </strong>
              <div class="col-lg-6 col-md-6">
                <h4>Nombre del Cliente</h4>
                <mat-form-field>
                  <input matInput formControlName="company" placeholder="Nombre del Cliente" required>
                </mat-form-field>
              </div>
              <div class="col-lg-6 col-md-6">
                <h4>Dias de planeación</h4>
                <mat-form-field>
                  <input matInput formControlName="periods" type="number" placeholder="Dias de planeación." required
                         min="0" max="100">
                </mat-form-field>
              </div>
              <div formArrayName="periodsAdditionalCost">
                <div class="col-lg-12 col-md-12">
                  <h4>Periodos con diferente costo.</h4>
                </div>
                <div *ngFor="let perio of periodsAdditionalCostFormArray.controls; let idx = index">
                  <div formGroupName="{{idx}}" class="col-lg-3 col-md-3">
                    <h5 class="text-success">Periodo con caracterización.</h5>
                    <mat-form-field class="col-lg-6 col-md-6">
                      <mat-select placeholder="Periodo a caracterizar" formControlName="id" required>
                        <mat-option *ngFor="let period of periods_array" [value]="period">
                          Dia {{ period }}
                        </mat-option>
                      </mat-select>
                    </mat-form-field>
                    <mat-form-field class="col-lg-6 col-md-6">
                      <input matInput placeholder="Costo ({{idx + 1}})" formControlName="cost" required>
                    </mat-form-field>
                  </div>
                </div>
                <button type="button" class="btn btn-info" (click)="addPeriodsAdditionalCost()">
                  Caracterizar perido con costos adicionales.
                </button>
              </div>
            </mat-tab>


            <mat-tab label="PASO 3. ORDEN A EVALUAR.">
              <strong class=" col-lg-12 col-md-12 text-danger primary-font">
                Información de la orden de servicio que se quiere evaluar
              </strong>

              <div formArrayName="products">
                <div class="col-lg-12 col-md-12">
                  <h4>Productos</h4>
                </div>
                <div *ngFor="let product of productsFormArray.controls; let idx = index">
                  <div formGroupName="{{idx}}" class="col-lg-12 col-md-12">
                    <mat-form-field class="col-lg-3 col-md-3">
                      <input matInput formControlName="periods" type="number" formControlName="quantity"
                             placeholder="Cantidad." required
                             min="0" max="100">
                    </mat-form-field>
                    <mat-form-field class="col-lg-3 col-md-3">
                      <input matInput placeholder="Nombre del servicio" formControlName="quantity" required>
                    </mat-form-field>
                    <mat-form-field class="col-lg-3 col-md-3">
                      <mat-select placeholder="Dias de servicio" required formControlName="days">
                        <mat-option *ngFor="let period of periods_array" [value]="period">
                          Dias {{ period }}
                        </mat-option>
                      </mat-select>
                    </mat-form-field>
                  </div>
                </div>
                <button type="button" class="btn btn-info" (click)="addProduct()">
                  Ingresar producto a la Orden de servicio
                </button>
              </div>
            </mat-tab>

            <mat-tab label="PASO 4. PROCESAR SOLOCITUD">
              <strong class=" col-lg-12 col-md-12 text-danger primary-font">
                Información de la orden de servicio que se quiere evaluar
              </strong>

              <button type="button" class="btn btn-primary btn-lg btn-block">
                ENVIAR SOLICITUD A SER PROCESADA.. TARA UNOS MINUTOS
              </button>

            </mat-tab>

          </mat-tab-group>

        </form>
      </div>
    </div>
  </div>
</div>




